{"version":3,"sources":["services/locationService.js","models/Location.js","models/weather/Condition.js","models/weather/Wind.js","models/weather/Measurements.js","models/weather/Snapshot.js","services/weatherService.js","components/SearchItem.js","components/Search.js","utils/dates.js","components/Clock.js","components/Location.js","utils/strings.js","components/Condition.js","components/Conditions.js","components/Measurement.js","components/Measurements.js","components/Refresh.js","components/Weather.js","containers/App.js","index.js"],"names":["cities","countryNameMap","Location","id","countryCode","region","city","Object","classCallCheck","this","toUpperCase","locationService","countryCodeToName","concat","toLowerCase","other","requestLocation","Promise","resolve","reject","fetch","then","response","json","obj","location","undefined","country_code","catch","error","searchCities","filter","callback","limit","n","startsWith","map","i","name","c","codes","keys","countryCodeMap","length","ensureCountryNameMap","r","filterCities","code","AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW","Condition","main","description","icon","Wind","speed","direction","Measurements","temperature","pressure","humidity","windSpeed","windDirection","clouds","wind","equals","Snapshot","timestamp","dt","sys","country","measurements","temp","deg","all","conditions","weather","condition","__conditionsEqual","otherConditions","len","weatherService","requestData","url","urlBase","appId","urlLocation","cod","parseInt","snapshot","SearchItem","props","react_default","a","createElement","Option_default","data","options","l","countryName","className","src","flagUrl","title","alt","Search","timeoutId","state","loadOptions","inputValue","onChange","_this","clearTimeout","setState","onSelect","onKeyDown","e","key","target","value","selectRef","blur","focus","scheduleChange","window","setTimeout","noOptionsMessage","params","_this2","Async_default","ref","components","Option","placeholder","autoFocus","Component","dates","toWeekdayMonthDay","Date","toLocaleDateString","navigator","language","weekday","month","day","toHourMinute24","toLocaleTimeString","hour","minute","hour12","Clock","__tick","__intervalId","setInterval","nextProps","nextState","getMinutes","__clearInterval","clearInterval","strings","capitalizeWords","text","replace","letter","iconUrl","Conditions","react","index","components_Condition_Condition","Measurement","Math","round","formatPressure","formatHumidity","formatWind","formatClouds","formatWindSpeed","floor","windDirections","formatWindDirection","Refresh","updated","onClick","onRefresh","Weather","loading","react_spinners","size","color","components_Location_Location","components_Measurements_Measurements","App","message","__handleSelect","__requestData","console","log","Clock_Clock","Search_Search","Weather_Weather","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.6c4feeee.chunk.js","sourcesContent":["import Location from '../models/Location';\r\n// import logger from '../utils/logger';\r\n\r\nconst locationService = {\r\n  requestLocation,\r\n  searchCities,\r\n  countryCodeToName,\r\n}\r\n\r\nexport default locationService;\r\n\r\nfunction requestLocation() {\r\n  return new Promise(function (resolve, reject) {\r\n    // navigator.geolocation.getCurrentPosition(function () {\r\n    //   console.log(position.coords.latitude);\r\n    //   console.log(position.coords.longitude);\r\n    // });\r\n\r\n    fetch(`https://api.ipdata.co/?api-key=test`)\r\n      .then(\r\n        response => response.json()\r\n      )\r\n      .then(obj => {\r\n        const location = new Location(\r\n          undefined,\r\n          obj.country_code,\r\n          undefined,\r\n          obj.city\r\n        );\r\n        // logger.logPretty(obj);\r\n        resolve(location);\r\n      })\r\n      .catch(\r\n        error => reject(error)\r\n      );\r\n  });\r\n}\r\n\r\nlet cities;\r\n\r\nfunction searchCities(filter, callback) {\r\n  if (!cities) {\r\n    fetch(`data/cities.json`)\r\n      .then(\r\n        response => response.json()\r\n      )\r\n      .then(obj => {\r\n        cities = obj;\r\n        searchCities(filter, callback);\r\n      });\r\n  } else {\r\n    callback(filterCities(filter));\r\n  }\r\n}\r\n\r\nfunction filterCities(filter) {\r\n  let limit = 0;\r\n\r\n  const filtered = cities.filter(city => \r\n    city.n.toLowerCase().startsWith(filter.toLowerCase()) && limit++ < 5\r\n  );\r\n\r\n  const mapped = filtered.map(city => new Location(\r\n    city.i,\r\n    countryNameToCode(city.c),\r\n    city.r,\r\n    city.n,\r\n  ));\r\n\r\n  return mapped;\r\n}\r\n\r\nfunction countryCodeToName(code) {\r\n  code = code.toUpperCase();\r\n  return countryCodeMap[code] || code;\r\n}\r\n\r\nfunction countryNameToCode(name) {\r\n  ensureCountryNameMap();\r\n  return countryNameMap[name.toLowerCase()] || name;\r\n}\r\n\r\nfunction ensureCountryNameMap() {\r\n  if (!countryNameMap) {\r\n    countryNameMap = {};\r\n    const codes = Object.keys(countryCodeMap);\r\n\r\n    for (let i = 0; i < codes.length; i++) {\r\n      const name = countryCodeMap[codes[i]].toLowerCase();\r\n      countryNameMap[name] = codes[i];\r\n    }\r\n  }\r\n}\r\n\r\nlet countryNameMap;\r\n\r\nconst countryCodeMap = {\r\n  \"AD\": \"Andorra\",\r\n  \"AE\": \"United Arab Emirates\",\r\n  \"AF\": \"Afghanistan\",\r\n  \"AG\": \"Antigua and Barbuda\",\r\n  \"AI\": \"Anguilla\",\r\n  \"AL\": \"Albania\",\r\n  \"AM\": \"Armenia\",\r\n  \"AO\": \"Angola\",\r\n  \"AQ\": \"Antarctica\",\r\n  \"AR\": \"Argentina\",\r\n  \"AS\": \"American Samoa\",\r\n  \"AT\": \"Austria\",\r\n  \"AU\": \"Australia\",\r\n  \"AW\": \"Aruba\",\r\n  \"AX\": \"Aland Islands\",\r\n  \"AZ\": \"Azerbaijan\",\r\n  \"BA\": \"Bosnia and Herzegovina\",\r\n  \"BB\": \"Barbados\",\r\n  \"BD\": \"Bangladesh\",\r\n  \"BE\": \"Belgium\",\r\n  \"BF\": \"Burkina Faso\",\r\n  \"BG\": \"Bulgaria\",\r\n  \"BH\": \"Bahrain\",\r\n  \"BI\": \"Burundi\",\r\n  \"BJ\": \"Benin\",\r\n  \"BL\": \"Saint Barthelemy\",\r\n  \"BM\": \"Bermuda\",\r\n  \"BN\": \"Brunei\",\r\n  \"BO\": \"Bolivia\",\r\n  \"BQ\": \"Bonaire, Saint Eustatius and Saba \",\r\n  \"BR\": \"Brazil\",\r\n  \"BS\": \"Bahamas\",\r\n  \"BT\": \"Bhutan\",\r\n  \"BV\": \"Bouvet Island\",\r\n  \"BW\": \"Botswana\",\r\n  \"BY\": \"Belarus\",\r\n  \"BZ\": \"Belize\",\r\n  \"CA\": \"Canada\",\r\n  \"CC\": \"Cocos Islands\",\r\n  \"CD\": \"Democratic Republic of the Congo\",\r\n  \"CF\": \"Central African Republic\",\r\n  \"CG\": \"Republic of the Congo\",\r\n  \"CH\": \"Switzerland\",\r\n  \"CI\": \"Ivory Coast\",\r\n  \"CK\": \"Cook Islands\",\r\n  \"CL\": \"Chile\",\r\n  \"CM\": \"Cameroon\",\r\n  \"CN\": \"China\",\r\n  \"CO\": \"Colombia\",\r\n  \"CR\": \"Costa Rica\",\r\n  \"CU\": \"Cuba\",\r\n  \"CV\": \"Cape Verde\",\r\n  \"CW\": \"Curacao\",\r\n  \"CX\": \"Christmas Island\",\r\n  \"CY\": \"Cyprus\",\r\n  \"CZ\": \"Czech Republic\",\r\n  \"DE\": \"Germany\",\r\n  \"DJ\": \"Djibouti\",\r\n  \"DK\": \"Denmark\",\r\n  \"DM\": \"Dominica\",\r\n  \"DO\": \"Dominican Republic\",\r\n  \"DZ\": \"Algeria\",\r\n  \"EC\": \"Ecuador\",\r\n  \"EE\": \"Estonia\",\r\n  \"EG\": \"Egypt\",\r\n  \"EH\": \"Western Sahara\",\r\n  \"ER\": \"Eritrea\",\r\n  \"ES\": \"Spain\",\r\n  \"ET\": \"Ethiopia\",\r\n  \"FI\": \"Finland\",\r\n  \"FJ\": \"Fiji\",\r\n  \"FK\": \"Falkland Islands\",\r\n  \"FM\": \"Micronesia\",\r\n  \"FO\": \"Faroe Islands\",\r\n  \"FR\": \"France\",\r\n  \"GA\": \"Gabon\",\r\n  \"GB\": \"United Kingdom\",\r\n  \"GD\": \"Grenada\",\r\n  \"GE\": \"Georgia\",\r\n  \"GF\": \"French Guiana\",\r\n  \"GG\": \"Guernsey\",\r\n  \"GH\": \"Ghana\",\r\n  \"GI\": \"Gibraltar\",\r\n  \"GL\": \"Greenland\",\r\n  \"GM\": \"Gambia\",\r\n  \"GN\": \"Guinea\",\r\n  \"GP\": \"Guadeloupe\",\r\n  \"GQ\": \"Equatorial Guinea\",\r\n  \"GR\": \"Greece\",\r\n  \"GS\": \"South Georgia and the South Sandwich Islands\",\r\n  \"GT\": \"Guatemala\",\r\n  \"GU\": \"Guam\",\r\n  \"GW\": \"Guinea-Bissau\",\r\n  \"GY\": \"Guyana\",\r\n  \"HK\": \"Hong Kong\",\r\n  \"HM\": \"Heard Island and McDonald Islands\",\r\n  \"HN\": \"Honduras\",\r\n  \"HR\": \"Croatia\",\r\n  \"HT\": \"Haiti\",\r\n  \"HU\": \"Hungary\",\r\n  \"ID\": \"Indonesia\",\r\n  \"IE\": \"Ireland\",\r\n  \"IL\": \"Israel\",\r\n  \"IM\": \"Isle of Man\",\r\n  \"IN\": \"India\",\r\n  \"IO\": \"British Indian Ocean Territory\",\r\n  \"IQ\": \"Iraq\",\r\n  \"IR\": \"Iran\",\r\n  \"IS\": \"Iceland\",\r\n  \"IT\": \"Italy\",\r\n  \"JE\": \"Jersey\",\r\n  \"JM\": \"Jamaica\",\r\n  \"JO\": \"Jordan\",\r\n  \"JP\": \"Japan\",\r\n  \"KE\": \"Kenya\",\r\n  \"KG\": \"Kyrgyzstan\",\r\n  \"KH\": \"Cambodia\",\r\n  \"KI\": \"Kiribati\",\r\n  \"KM\": \"Comoros\",\r\n  \"KN\": \"Saint Kitts and Nevis\",\r\n  \"KP\": \"North Korea\",\r\n  \"KR\": \"South Korea\",\r\n  \"KW\": \"Kuwait\",\r\n  \"KY\": \"Cayman Islands\",\r\n  \"KZ\": \"Kazakhstan\",\r\n  \"LA\": \"Laos\",\r\n  \"LB\": \"Lebanon\",\r\n  \"LC\": \"Saint Lucia\",\r\n  \"LI\": \"Liechtenstein\",\r\n  \"LK\": \"Sri Lanka\",\r\n  \"LR\": \"Liberia\",\r\n  \"LS\": \"Lesotho\",\r\n  \"LT\": \"Lithuania\",\r\n  \"LU\": \"Luxembourg\",\r\n  \"LV\": \"Latvia\",\r\n  \"LY\": \"Libya\",\r\n  \"MA\": \"Morocco\",\r\n  \"MC\": \"Monaco\",\r\n  \"MD\": \"Moldova\",\r\n  \"ME\": \"Montenegro\",\r\n  \"MF\": \"Saint Martin\",\r\n  \"MG\": \"Madagascar\",\r\n  \"MH\": \"Marshall Islands\",\r\n  \"MK\": \"Macedonia\",\r\n  \"ML\": \"Mali\",\r\n  \"MM\": \"Myanmar\",\r\n  \"MN\": \"Mongolia\",\r\n  \"MO\": \"Macao\",\r\n  \"MP\": \"Northern Mariana Islands\",\r\n  \"MQ\": \"Martinique\",\r\n  \"MR\": \"Mauritania\",\r\n  \"MS\": \"Montserrat\",\r\n  \"MT\": \"Malta\",\r\n  \"MU\": \"Mauritius\",\r\n  \"MV\": \"Maldives\",\r\n  \"MW\": \"Malawi\",\r\n  \"MX\": \"Mexico\",\r\n  \"MY\": \"Malaysia\",\r\n  \"MZ\": \"Mozambique\",\r\n  \"NA\": \"Namibia\",\r\n  \"NC\": \"New Caledonia\",\r\n  \"NE\": \"Niger\",\r\n  \"NF\": \"Norfolk Island\",\r\n  \"NG\": \"Nigeria\",\r\n  \"NI\": \"Nicaragua\",\r\n  \"NL\": \"Netherlands\",\r\n  \"NO\": \"Norway\",\r\n  \"NP\": \"Nepal\",\r\n  \"NR\": \"Nauru\",\r\n  \"NU\": \"Niue\",\r\n  \"NZ\": \"New Zealand\",\r\n  \"OM\": \"Oman\",\r\n  \"PA\": \"Panama\",\r\n  \"PE\": \"Peru\",\r\n  \"PF\": \"French Polynesia\",\r\n  \"PG\": \"Papua New Guinea\",\r\n  \"PH\": \"Philippines\",\r\n  \"PK\": \"Pakistan\",\r\n  \"PL\": \"Poland\",\r\n  \"PM\": \"Saint Pierre and Miquelon\",\r\n  \"PN\": \"Pitcairn\",\r\n  \"PR\": \"Puerto Rico\",\r\n  \"PS\": \"Palestinian Territory\",\r\n  \"PT\": \"Portugal\",\r\n  \"PW\": \"Palau\",\r\n  \"PY\": \"Paraguay\",\r\n  \"QA\": \"Qatar\",\r\n  \"RE\": \"Reunion\",\r\n  \"RO\": \"Romania\",\r\n  \"RS\": \"Serbia\",\r\n  \"RU\": \"Russia\",\r\n  \"RW\": \"Rwanda\",\r\n  \"SA\": \"Saudi Arabia\",\r\n  \"SB\": \"Solomon Islands\",\r\n  \"SC\": \"Seychelles\",\r\n  \"SD\": \"Sudan\",\r\n  \"SE\": \"Sweden\",\r\n  \"SG\": \"Singapore\",\r\n  \"SH\": \"Saint Helena\",\r\n  \"SI\": \"Slovenia\",\r\n  \"SJ\": \"Svalbard and Jan Mayen\",\r\n  \"SK\": \"Slovakia\",\r\n  \"SL\": \"Sierra Leone\",\r\n  \"SM\": \"San Marino\",\r\n  \"SN\": \"Senegal\",\r\n  \"SO\": \"Somalia\",\r\n  \"SR\": \"Suriname\",\r\n  \"SS\": \"South Sudan\",\r\n  \"ST\": \"Sao Tome and Principe\",\r\n  \"SV\": \"El Salvador\",\r\n  \"SX\": \"Sint Maarten\",\r\n  \"SY\": \"Syria\",\r\n  \"SZ\": \"Swaziland\",\r\n  \"TC\": \"Turks and Caicos Islands\",\r\n  \"TD\": \"Chad\",\r\n  \"TF\": \"French Southern Territories\",\r\n  \"TG\": \"Togo\",\r\n  \"TH\": \"Thailand\",\r\n  \"TJ\": \"Tajikistan\",\r\n  \"TK\": \"Tokelau\",\r\n  \"TL\": \"East Timor\",\r\n  \"TM\": \"Turkmenistan\",\r\n  \"TN\": \"Tunisia\",\r\n  \"TO\": \"Tonga\",\r\n  \"TR\": \"Turkey\",\r\n  \"TT\": \"Trinidad and Tobago\",\r\n  \"TV\": \"Tuvalu\",\r\n  \"TW\": \"Taiwan\",\r\n  \"TZ\": \"Tanzania\",\r\n  \"UA\": \"Ukraine\",\r\n  \"UG\": \"Uganda\",\r\n  \"UM\": \"United States Minor Outlying Islands\",\r\n  \"US\": \"United States\",\r\n  \"UY\": \"Uruguay\",\r\n  \"UZ\": \"Uzbekistan\",\r\n  \"VA\": \"Vatican\",\r\n  \"VC\": \"Saint Vincent and the Grenadines\",\r\n  \"VE\": \"Venezuela\",\r\n  \"VG\": \"British Virgin Islands\",\r\n  \"VI\": \"U.S. Virgin Islands\",\r\n  \"VN\": \"Vietnam\",\r\n  \"VU\": \"Vanuatu\",\r\n  \"WF\": \"Wallis and Futuna\",\r\n  \"WS\": \"Samoa\",\r\n  \"XK\": \"Kosovo\",\r\n  \"YE\": \"Yemen\",\r\n  \"YT\": \"Mayotte\",\r\n  \"ZA\": \"South Africa\",\r\n  \"ZM\": \"Zambia\",\r\n  \"ZW\": \"Zimbabwe\"\r\n};\r\n","import locationService from '../services/locationService';\r\n\r\nexport default class Location {\r\n\r\n  constructor(id, countryCode, region, city) {\r\n    this.id = id;\r\n    this.countryCode = countryCode && countryCode.toUpperCase();\r\n    this.region = region;\r\n    this.city = city;\r\n  }\r\n\r\n  countryName() {\r\n    return locationService.countryCodeToName(this.countryCode);\r\n  }\r\n\r\n  flagUrl() {\r\n    return `img/flags/${this.countryCode.toLowerCase()}.svg`\r\n  }\r\n\r\n  equals(other) {\r\n    if (!other) {\r\n      return false;\r\n    }\r\n\r\n    return this.id === other.id &&\r\n      this.countryCode === other.countryCode &&\r\n      this.region === other.region &&\r\n      this.city === other.city;\r\n  }\r\n}\r\n","export default class Condition {\r\n\r\n  constructor(id, main, description, icon) {\r\n    this.id = id;\r\n    this.main = main;\r\n    this.description = description;\r\n    this.icon = icon;\r\n  }\r\n\r\n  iconUrl() {\r\n    return `https://openweathermap.org/img/w/${this.icon}.png`;\r\n  }\r\n\r\n  equals(other) {\r\n    if (!other) {\r\n      return false;\r\n    }\r\n\r\n    return this.id === other.id &&\r\n      this.main === other.main &&\r\n      this.description === other.description &&\r\n      this.icon === other.icon;\r\n  }\r\n}\r\n","export default class Wind {\r\n\r\n  constructor(speed, direction) {\r\n    this.speed = speed;\r\n    this.direction = direction;\r\n  }\r\n\r\n  equals(other) {\r\n    if (!other) {\r\n      return false;\r\n    }\r\n\r\n    return this.speed === other.speed &&\r\n      this.direction === other.direction;\r\n  }\r\n}\r\n","import Wind from \"./Wind\";\r\n\r\nexport default class Measurements {\r\n\r\n  constructor(temperature, pressure, humidity, windSpeed, windDirection, clouds) {\r\n    this.temperature = temperature;\r\n    this.pressure = pressure;\r\n    this.humidity = humidity;\r\n    this.wind = new Wind(windSpeed, windDirection);\r\n    this.clouds = clouds;\r\n  }\r\n  equals(other) {\r\n    if (!other) {\r\n      return false;\r\n    }\r\n\r\n    return this.temperature === other.temperature &&\r\n      this.pressure === other.pressure &&\r\n      this.humidity === other.humidity &&\r\n      this.wind.equals(other.wind) &&\r\n      this.clouds === other.clouds;\r\n  }\r\n}\r\n","import Location from '../Location';\r\nimport Condition from './Condition';\r\nimport Measurements from './Measurements';\r\n\r\nexport default class Snapshot {\r\n\r\n  constructor(obj) {\r\n    this.id = obj.id;\r\n    this.timestamp = obj.dt * 1000;\r\n\r\n    this.location = new Location(\r\n      obj.id,\r\n      obj.sys.country,\r\n      undefined,\r\n      obj.name,\r\n    );\r\n\r\n    this.measurements = new Measurements(\r\n      obj.main.temp,\r\n      obj.main.pressure,\r\n      obj.main.humidity,\r\n      obj.wind.speed,\r\n      obj.wind.deg,\r\n      obj.clouds.all,\r\n    );\r\n\r\n    this.conditions = obj.weather.map(condition => new Condition(\r\n      condition.id,\r\n      condition.main.toLowerCase(),\r\n      condition.description.toLowerCase(),\r\n      condition.icon,\r\n    ));\r\n  }\r\n\r\n  equals(other) {\r\n    if (!other) {\r\n      return false;\r\n    }\r\n\r\n    return this.timestamp === other.timestamp &&\r\n      this.id === other.id &&\r\n      this.location.equals(other.location) &&\r\n      this.measurements.equals(other.measurements) &&\r\n      this.__conditionsEqual(other.conditions);\r\n  }\r\n\r\n  __conditionsEqual(otherConditions) {\r\n    if (!otherConditions) {\r\n      return false;\r\n    }\r\n\r\n    const conditions = this.conditions;\r\n    const len = conditions.length;\r\n\r\n    if (len !== otherConditions.length) {\r\n      return false;\r\n    }\r\n\r\n    for (let i = 0; i < len; i++) {\r\n      if (!conditions[i].equals(otherConditions[i])) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n","import Snapshot from '../models/weather/Snapshot';\r\n// import logger from '../utils/logger';\r\n\r\nconst weatherService = {\r\n  requestData,\r\n}\r\n\r\nexport default weatherService;\r\n\r\nconst urlBase = 'https://api.openweathermap.org/data/2.5/weather';\r\nconst appId = '3ccbdea52230974079124e584dbbbb86';\r\n\r\nfunction urlLocation(location) {\r\n  return `${urlBase}?q=${location}&appid=${appId}`\r\n}\r\n\r\nfunction urlId(id) {\r\n  return `${urlBase}?id=${id}&appid=${appId}`\r\n}\r\n\r\nfunction requestData(location) {\r\n  return new Promise(function (resolve, reject) {\r\n    if (!location) {\r\n      reject(\"Parameter 'location' must be defined.\");\r\n      return;\r\n    }\r\n\r\n    // let url;\r\n\r\n    // if (typeof location === 'object') {\r\n    //   if (location.id) {\r\n    //     url = urlId(location.id);\r\n    //   } else {\r\n    //     location = location.city || '';\r\n    //   }\r\n    // }\r\n\r\n    // if (typeof location === 'string') {\r\n    //   if (location === '') {\r\n    //     reject(\"Parameter 'location' must not be empty.\");\r\n    //     return;\r\n    //   }\r\n\r\n    //   url = urlLocation(location);\r\n    // }\r\n\r\n    let url;\r\n\r\n    if (location.id) {\r\n      url = urlId(location.id);\r\n\r\n    } else if (location.city) {\r\n      url = urlLocation(location.city);\r\n\r\n    } else {\r\n      reject(\"Either location id or city must be specified.\");\r\n      return;\r\n    }\r\n\r\n    fetch(url)\r\n      .then(\r\n        response => response.json()\r\n      )\r\n      .then(obj => {\r\n        if (obj.cod) {\r\n          obj.cod = parseInt(obj.cod);\r\n        }        \r\n        if (obj.cod === 200) {\r\n          const snapshot = new Snapshot(obj);\r\n          // logger.logPretty(obj, snapshot);\r\n          resolve(snapshot);\r\n        } else {\r\n          obj.location = location;\r\n          reject(obj);\r\n        }\r\n      })\r\n      .catch(\r\n        error => reject(error)\r\n      );\r\n  });\r\n}\r\n","import React from 'react';\r\n\r\nimport Option from 'react-select/lib/components/Option';\r\n\r\nconst SearchItem = (props) => (\r\n  <Option {...props}>\r\n    {label(props.data, props.options)}\r\n    {icon(props.data)}\r\n  </Option>\r\n);\r\n\r\nexport default SearchItem;\r\n\r\nfunction label(location, locations) {\r\n  const citiesWithTheSameName = locations.filter(\r\n    l => l.city.toLowerCase() === location.city.toLowerCase()\r\n  );\r\n\r\n  if (citiesWithTheSameName.length >= 2) {\r\n    return `${location.city}, ${location.region}`;\r\n  } else {\r\n    return location.city;\r\n  }\r\n}\r\n\r\nfunction icon(location) {\r\n  const countryName = location.countryName();\r\n\r\n  return <img\r\n    className=\"search-item-icon\"\r\n    src={location.flagUrl()}\r\n    title={countryName}\r\n    alt={countryName}\r\n  />;\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport AsyncSelect from 'react-select/lib/Async';\r\n\r\nimport Location from '../models/Location';\r\nimport locationService from '../services/locationService';\r\nimport SearchItem from './SearchItem';\r\n\r\nexport default class Search extends Component {\r\n\r\n  selectRef;\r\n  timeoutId = null;\r\n\r\n  state = {\r\n    location: null,\r\n  }\r\n\r\n  loadOptions = (inputValue, callback) => {\r\n    locationService.searchCities(inputValue, callback);\r\n  }\r\n\r\n  onChange = (location) => {\r\n    this.clearTimeout();\r\n\r\n    if (!location.equals(this.state.location)) {\r\n      this.setState({ location });\r\n      this.props.onSelect(location);\r\n    }\r\n  }\r\n\r\n  onKeyDown = (e) => {\r\n    if (e.key.toLowerCase() === 'enter') {\r\n      // Will be discarded if user selected a location from menu\r\n      const location = new Location(\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        e.target.value,\r\n      );\r\n\r\n      this.selectRef.blur();\r\n      this.selectRef.focus();\r\n      \r\n      this.scheduleChange(location);\r\n    }\r\n  }\r\n\r\n  scheduleChange = (location) => {\r\n    this.timeoutId = window.setTimeout(\r\n      () => this.onChange(location),\r\n      100\r\n    );\r\n  }\r\n\r\n  clearTimeout = () => {\r\n    if (this.timeoutId) {\r\n      window.clearTimeout(this.timeoutId);\r\n      this.timeoutId = null;\r\n    }\r\n  }\r\n\r\n  noOptionsMessage = (params) => {\r\n    if (params.inputValue === '') {\r\n      return 'Start typing ...'\r\n    } else {\r\n      return 'Press Enter to load data.';\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"search-container\">\r\n        <AsyncSelect\r\n          ref={ref => { this.selectRef = ref; }}\r\n          components={{ Option: SearchItem }}\r\n          loadOptions={this.loadOptions}\r\n          onChange={this.onChange}\r\n          onKeyDown={this.onKeyDown}\r\n          value={null}\r\n          placeholder=\"Select city ...\"\r\n          noOptionsMessage={this.noOptionsMessage}\r\n          autoFocus={true}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const dates = {\r\n  toWeekdayMonthDay,\r\n  toHourMinute24,\r\n}\r\n\r\nexport default dates;\r\n\r\nfunction toWeekdayMonthDay(dt) {\r\n  if (typeof dt === 'number' ) {\r\n    dt = new Date(dt);\r\n  }\r\n  \r\n  return dt.toLocaleDateString(navigator.language, {\r\n    weekday: 'long',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  });\r\n}\r\n\r\nfunction toHourMinute24(dt) {\r\n  if (typeof dt === 'number' ) {\r\n    dt = new Date(dt);\r\n  }\r\n  \r\n  return dt.toLocaleTimeString(navigator.language, {\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n    hour12: false,\r\n  });\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport dates from '../utils/dates';\r\n\r\nexport default class Clock extends Component {\r\n\r\n  state = {\r\n    dt: new Date(),\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.__intervalId = window.setInterval(\r\n      this.__tick,\r\n      250,\r\n    );\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const currentMinute = this.state.dt.getMinutes();\r\n    const nextMinute = nextState.dt.getMinutes();\r\n\r\n    if (currentMinute === nextMinute) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.__clearInterval();\r\n  }\r\n\r\n  __tick = () => {\r\n\r\n    this.setState({\r\n      dt: new Date(),\r\n    });\r\n  }\r\n\r\n  __clearInterval() {\r\n    if (this.__intervalId) {\r\n      window.clearInterval(this.__intervalId);\r\n      this.__intervalId = null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const dt = this.state.dt;\r\n    const day = dates.toWeekdayMonthDay(dt);\r\n    const hour = dates.toHourMinute24(dt);\r\n\r\n    return (\r\n      <div className=\"clock-container\">\r\n        <div className=\"clock-day\">{day}</div>\r\n        <div className=\"clock-hour\">{hour}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Location(props) {\r\n  const location = props.location;\r\n  const countryName = location.countryName();\r\n\r\n  return (\r\n    <div className=\"condition-flexbox\">\r\n      <div className=\"condition-inlinebox\">\r\n        <span\r\n          className=\"location-city\"\r\n        >{location.city}</span>\r\n        <img\r\n          className=\"location-flag\"\r\n          src={location.flagUrl()}\r\n          title={countryName}\r\n          alt={countryName}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","const strings = {\r\n  capitalizeWords,\r\n}\r\n\r\nexport default strings;\r\n\r\nfunction capitalizeWords(text) {\r\n  return text.replace(\r\n    /\\b\\w/g,\r\n    letter => letter.toUpperCase()\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport strings from '../utils/strings';\r\n\r\nexport default function Condition(props) {\r\n  const condition = props.condition;\r\n  const main = strings.capitalizeWords(condition.main);\r\n  const description = strings.capitalizeWords(condition.description);\r\n\r\n  return (\r\n    <div className=\"condition-inlinebox\">\r\n      <div className=\"condition-flexbox\">\r\n        <img\r\n          className=\"condition-icon\"\r\n          src={condition.iconUrl()}\r\n          title={main}\r\n          alt={main}\r\n        />\r\n        <span\r\n          className=\"condition-description\"\r\n        >{description}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Fragment } from 'react';\r\n\r\nimport Condition from './Condition';\r\nexport default function Conditions(props) {\r\n  return (\r\n    <Fragment>\r\n      {props.conditions.map((condition, index) => (\r\n        <Condition\r\n          key={condition.id}\r\n          condition={condition}\r\n        />\r\n      ))}\r\n    </Fragment>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Measurement(props) {\r\n  return (\r\n    <div className=\"measurement-container\">\r\n      <div className=\"measurement-inlinebox\">\r\n        <div className=\"measurement-flexbox\">\r\n        <img\r\n            className=\"measurement-icon\"\r\n            src={iconUrl(props.icon)}\r\n            title={props.description}\r\n            alt={props.description}\r\n          />\r\n          <span\r\n            className=\"measurement-value\"\r\n          >{props.value}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction iconUrl(icon) {\r\n  return `img/weather/${icon}`;\r\n}\r\n","import React, { Fragment } from 'react';\r\n\r\nimport Measurement from './Measurement';\r\n\r\nexport default function Measurements(props) {\r\n  const measurements = props.measurements;\r\n\r\n  return (\r\n    <Fragment>\r\n      <Measurement\r\n        description={'Temperature'}\r\n        icon={'wi-thermometer.svg'}\r\n        value={formatTemperature(measurements.temperature)}\r\n      />\r\n      <Measurement\r\n        description={'Pressure'}\r\n        icon={'wi-barometer.svg'}\r\n        value={formatPressure(measurements.pressure)}\r\n      />\r\n      <Measurement\r\n        description={'Humidity'}\r\n        icon={'wi-humidity.svg'}\r\n        value={formatHumidity(measurements.humidity)}\r\n      />\r\n      <Measurement\r\n        description={'Wind'}\r\n        icon={'wi-small-craft-advisory.svg'}\r\n        value={formatWind(measurements.wind)}\r\n      />\r\n      <Measurement\r\n        description={'Cloud Cover'}\r\n        icon={'wi-cloudy.svg'}\r\n        value={formatClouds(measurements.clouds)}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction formatTemperature(value) {\r\n  return Math.round(value - 273.15) + '°C';\r\n}\r\n\r\nfunction formatPressure(value) {\r\n  return value + ' hPa';\r\n}\r\n\r\nfunction formatHumidity(value) {\r\n  return value + '%';\r\n}\r\n\r\nfunction formatWind(value) {\r\n  return (\r\n    formatWindSpeed(value.speed) +\r\n    formatWindDirection(value.direction)\r\n  );\r\n}\r\n\r\nfunction formatWindSpeed(value) {\r\n  return Math.round(value * 3.6) + ' km/h ';\r\n}\r\n\r\nconst windDirections = [\r\n  'N', 'NNE', 'NE', 'ENE',\r\n  'E', 'ESE', 'SE', 'SSE',\r\n  'S', 'SSW', 'SW', 'WSW',\r\n  'W', 'WNW', 'NW', 'NNW'\r\n];\r\n\r\nfunction formatWindDirection(value) {\r\n  if (!value) {\r\n    return '';\r\n  }\r\n  const index = Math.floor((value / 22.5) + 0.5) % 16;\r\n  return windDirections[index];\r\n}\r\n\r\nfunction formatClouds(value) {\r\n  return value + '%';\r\n}\r\n","import React from 'react';\r\n\r\nimport dates from '../utils/dates';\r\n\r\nexport default function Refresh(props) {\r\n  return (\r\n    <div className=\"update-inlinebox\">\r\n      <div className=\"update-flexbox\">\r\n        <span\r\n          className=\"update-description\"\r\n        >Measured at {dates.toHourMinute24(props.updated)}</span>\r\n          <img\r\n            className=\"update-icon\"\r\n            src=\"img/weather/wi-refresh.svg\"\r\n            title=\"Refresh\"\r\n            alt=\"Refresh\"\r\n            onClick={props.onRefresh}\r\n          />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\n\r\nimport Location from './Location';\r\nimport Conditions from './Conditions';\r\nimport Measurements from './Measurements';\r\nimport Refresh from './Refresh';\r\n\r\nexport default class Weather extends Component {\r\n\r\n  render() {\r\n    const snapshot = this.props.snapshot;\r\n    const loading = this.props.loading;\r\n\r\n    if (!loading && !snapshot) {\r\n      return <Fragment />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"weather-flexbox-container\">\r\n        {\r\n          loading ?\r\n            <div className=\"weather-spinner-container\">\r\n              <ClipLoader\r\n                size={100}\r\n                color={'rgb(4, 16, 48)'}\r\n                loading={loading}\r\n              />\r\n            </div>\r\n          :\r\n            <Fragment>\r\n              <div className=\"weather-flexbox-header\">\r\n                <div className=\"weather-flexbox-left\">\r\n                  <Location location={snapshot.location} />\r\n                  <Conditions conditions={snapshot.conditions} />\r\n                </div>\r\n                <div className=\"weather-flexbox-right\">\r\n                  <Measurements measurements={snapshot.measurements} />\r\n                </div>\r\n              </div>\r\n              <div className=\"weather-flexbox-footer\">\r\n                <Refresh\r\n                  updated={snapshot.timestamp}\r\n                  onRefresh={this.props.onRefresh}\r\n                />\r\n              </div>\r\n            </Fragment>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport locationService from '../services/locationService';\r\nimport weatherService from '../services/weatherService';\r\nimport Search from '../components/Search';\r\nimport Clock from '../components/Clock';\r\nimport Weather from '../components/Weather';\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    snapshot: null,\r\n    message: null,\r\n    loading: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    locationService.requestLocation()\r\n      .then(\r\n        location => this.__handleSelect(location)\r\n      );\r\n  }\r\n\r\n  __handleSelect = (location) => {\r\n    this.__requestData(location);\r\n  }\r\n\r\n  __requestData = (location) => {\r\n    if (this.state.loading) {\r\n      return;\r\n    }\r\n\r\n    if (!location) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    weatherService.requestData(location)\r\n      .then(snapshot => {\r\n        if (!snapshot.equals(this.state.snapshot)) {\r\n          this.setState({\r\n            snapshot,\r\n            message: null,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log('Error', error);\r\n\r\n        if (error.cod === 404) {\r\n          this.setState({\r\n            snapshot: null,\r\n            message: `City '${error.location.city}' was not found.`\r\n          });\r\n        } else if (error.message) {\r\n          this.setState({\r\n            snapshot: null,\r\n            message: error.message,\r\n          });\r\n        }\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  onRefresh = () => {\r\n    const snapshot = this.state.snapshot;\r\n\r\n    if (snapshot) {\r\n      this.__requestData(snapshot.location);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const message = this.state.message;\r\n\r\n    return (\r\n      <div className=\"app-container\">\r\n        <div className=\"app-inlinebox\">\r\n          <div className=\"app-flexbox\">\r\n            <Clock />\r\n            <Search\r\n              onSelect={this.__handleSelect}\r\n            />\r\n            {\r\n              message === null ?\r\n                <Weather\r\n                  snapshot={this.state.snapshot}\r\n                  loading={this.state.loading}\r\n                  onRefresh={this.onRefresh}\r\n                />\r\n                :\r\n                <div className=\"app-error\">{message}</div>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nimport App from './containers/App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}